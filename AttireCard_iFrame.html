<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Attire Card (HD controls + width control)</title>
<style>
  html,body{height:100%;margin:0;background:transparent;display:grid;place-items:center;overflow:hidden}

  /* OUTER visible box — width will be set from JS (w param), default 720 */
  .shell{position:relative;overflow:hidden}
  .shell::before{content:"";display:block;padding-top:159.3%} /* aspect */

  /* Inner layer that we can scale down (oversampling) */
  .pixel{position:absolute;inset:0;transform-origin:top left}

  /* Content area whose width we enlarge in HD modes */
  .ratio{position:absolute;inset:0;width:100%}
  .ratio::before{content:"";display:block;padding-top:159.3%}

  /* State */
  #t{position:absolute;opacity:0;pointer-events:none}

  /* Card (3D flip, +5° tilt to the right) */
  .card{
    position:absolute;inset:0;transform-style:preserve-3d;
    transform:rotate(5deg) rotateY(0deg);
    transition:transform .7s cubic-bezier(.2,.7,.2,1);cursor:pointer
  }
  .card:hover{transform:rotate(5deg) translateY(-8px) rotateY(0deg)}
  .face{position:absolute;inset:0;backface-visibility:hidden}
  .back{transform:rotateY(180deg)}
  #t:checked ~ .pixel .ratio .card{transform:rotate(5deg) rotateY(180deg)}
  #t:checked ~ .pixel .ratio .card:hover{transform:rotate(5deg) translateY(-8px) rotateY(180deg)}

  .img{width:100%;height:100%;object-fit:contain;display:block;
       image-rendering:-webkit-optimize-contrast;filter:drop-shadow(0 8px 18px rgba(0,0,0,.25));
       transition:filter .36s cubic-bezier(.22,1,.36,1)}
  .card:hover .img{filter:drop-shadow(0 14px 28px rgba(0,0,0,.28))}

  .qr{position:absolute;left:12%;top:8.5%;width:76%;height:36%;z-index:5;pointer-events:none}
  #t:checked ~ .pixel .ratio .qr{pointer-events:auto}

  /* HD modes (set by body class) */
  .hd2 .pixel{transform:scale(.5)}     .hd2 .ratio{width:200%}
  .hd3 .pixel{transform:scale(.3333)}  .hd3 .ratio{width:300%}
</style>
</head>
<body>
  <input id="t" type="checkbox" aria-hidden="true">
  <div class="shell" id="shell">
    <div class="pixel">
      <div class="ratio">
        <label class="card" for="t" aria-label="Flip card" role="button" tabindex="0">
          <div class="face front"><img class="img" src="AttireCard_Front.png" alt="Attire card front"></div>
          <div class="face back"><img class="img" src="AttireCard_Back.png"  alt="Attire card back with QR"></div>
        </label>
        <a class="qr" href="https://www.pinterest.com/RockEvents/a-black-and-white-night-to-cure-nf/" target="_blank" rel="noopener" aria-label="Open Pinterest board"></a>
      </div>
    </div>
  </div>

<script>
  (function(){
    var p=new URLSearchParams(location.search);
    var hd=(p.get('hd')||'').trim();
    if(hd==='2') document.body.classList.add('hd2');
    else if(hd==='3') document.body.classList.add('hd3');

    var w=parseInt(p.get('w')||'',10);
    var shell=document.getElementById('shell');
    if(!isFinite(w) || w<=0) w=720;           // default base width
    shell.style.width = 'min(92vw,'+w+'px)';  // never collapses to 0
  })();
</script>
</body>
</html>
